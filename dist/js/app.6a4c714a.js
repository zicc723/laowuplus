(function(){"use strict";var t={9339:function(t,e,i){var l=i(5130),n=i(6768);const s={id:"mode-selection"},d={id:"game-ui",style:{display:"none"}};function a(t,e,i,l,a,o){return(0,n.uX)(),(0,n.CE)(n.FK,null,[e[12]||(e[12]=(0,n.Lk)("h1",null,"Mutated Construct Simulator",-1)),(0,n.Lk)("div",s,[(0,n.Lk)("button",{class:"mode-btn",onClick:e[0]||(e[0]=t=>o.startGame("dps_focus"))},"DPS集火版"),(0,n.Lk)("button",{class:"mode-btn",onClick:e[1]||(e[1]=t=>o.startGame("dps_smooth"))},"DPS平缓版"),(0,n.Lk)("button",{class:"mode-btn",onClick:e[2]||(e[2]=t=>o.startGame("advanced"))},"高阶特训版")]),(0,n.Lk)("div",d,[e[10]||(e[10]=(0,n.Fv)('<div>Health</div><div class="bar-container"><div id="health-bar" class="bar">100%</div></div><div id="stop-dps">DPS停手！</div><div>Energy</div><div class="bar-container"><div id="energy-bar" class="bar">100</div></div><div>自身爆炸读条</div><div class="bar-container" style="height:20px;"><div id="explosion-bar"></div></div><div id="big-add-section" style="display:none;"><div>大怪爆炸CD <span id="bidaddcdremain"></span></div><div>大怪爆炸读条</div><div class="bar-container" style="height:20px;"><div id="big-add-bar"></div></div><div id="big-add-prepare"></div></div><div id="vuln-buff">易伤: 0% (剩余时间: 0s)</div>',9)),(0,n.Lk)("div",null,[(0,n.Lk)("button",{id:"skill1",onClick:e[3]||(e[3]=t=>o.skill1()),style:{background:"#e67e22"}},e[8]||(e[8]=[(0,n.eW)("1: 易伤"),(0,n.Lk)("div",{class:"cooldown-ring",id:"skill1-cd"},null,-1)])),(0,n.Lk)("button",{id:"skill2",onClick:e[4]||(e[4]=t=>o.skill2()),style:{background:"#c0392b"}},e[9]||(e[9]=[(0,n.eW)("2: 打断"),(0,n.Lk)("div",{class:"cooldown-ring",id:"skill2-cd"},null,-1)])),(0,n.Lk)("button",{id:"skill3",onClick:e[5]||(e[5]=t=>o.skill3()),style:{background:"#27ae60"}},"3: 吃水"),(0,n.Lk)("button",{id:"skill4",onClick:e[6]||(e[6]=t=>o.skill4()),style:{background:"#f1c40f"}},"4: 脱离")]),e[11]||(e[11]=(0,n.Lk)("div",{id:"log"},null,-1))]),(0,n.Lk)("button",{id:"restart-btn",onClick:e[7]||(e[7]=t=>o.resetGame())},"重新开始")],64)}var o={data(){return{msg:"Hello World!",mode:"",health:100,energy:100,skill1CD:0,skill2CD:0,vulnStack:0,vulnTimer:0,nextBigAdd:35,selfExplosionCasting:!1,bigAddCasting:!1,gameInterval:null,smoothInterval:null,selfExplosionInterval:null,selfExplosionCastInterval:null,bigAddPrepareInterval:null,bigAddCastInterval:null,selfExplosionTimer:null,bigAddTimer:null}},mounted(){document.addEventListener("keydown",this.onKeydown)},methods:{startGame:function(t){this.mode=t,document.getElementById("mode-selection").style.display="none",document.getElementById("game-ui").style.display="block",document.getElementById("restart-btn").style.display="none",document.getElementById("big-add-prepare").innerText="",document.getElementById("stop-dps").style.display="none","advanced"===this.mode?document.getElementById("big-add-section").style.display="block":document.getElementById("big-add-section").style.display="none",this.health=100,this.energy=100,this.skill1CD=0,this.skill2CD=0,this.vulnStack=0,this.vulnTimer=0,this.nextBigAdd=35-this.getRndInteger(0,20),this.updateAll(),this.log("游戏开始！"),this.gameInterval=setInterval(this.gameLoop,1e3),this.smoothInterval=setInterval(this.updateAll,50),this.startSelfExplosionLoop(),this.startBigAddPrepare()},getRndInteger(t,e){return Math.floor(Math.random()*(e-t+1))+t},gameLoop(){if(!this.selfExplosionCasting&&!this.bigAddCasting){if("advanced"!==this.mode){const t=this.health>25?"dps_focus"===this.mode?3:2:(this.health,1);this.health=Math.max(this.health-t,0),document.getElementById("stop-dps").style.display=this.health<=25?"block":"none"}else this.health=20;this.energy=Math.max(this.energy-2,0)}this.vulnTimer>0&&(this.vulnTimer--,0===this.vulnTimer&&(this.vulnStack=0)),(this.health<=0||this.energy<=0)&&this.gameOver("Game Over! 你已死亡！"),this.skill1CD>0&&this.skill1CD--,this.skill2CD>0&&this.skill2CD--},updateAll(){document.getElementById("skill4").style.display="inline-block",document.getElementById("health-bar").style.width=this.health+"%",document.getElementById("health-bar").innerText=Math.floor(this.health)+"%",document.getElementById("energy-bar").style.width=this.energy+"%",document.getElementById("energy-bar").innerText=Math.floor(this.energy).toString(),document.getElementById("skill1-cd").style.background=`conic-gradient(rgba(0,0,0,0.5) ${this.skill1CD/6*360}deg, transparent 0deg)`,document.getElementById("skill2-cd").style.background=`conic-gradient(rgba(0,0,0,0.5) ${this.skill2CD/6*360}deg, transparent 0deg)`,document.getElementById("skill1").classList.toggle("disabled",this.skill1CD>0),document.getElementById("skill2").classList.toggle("disabled",this.skill2CD>0),document.getElementById("vuln-buff").innerText=`易伤: ${10*this.vulnStack}% (剩余时间: ${this.vulnTimer}s)`,document.getElementById("bidaddcdremain").innerText=` (${this.nextBigAdd}s)`},log(t){document.getElementById("log").innerText=t},gameOver(t){clearInterval(this.gameInterval),clearInterval(this.smoothInterval),clearInterval(this.selfExplosionInterval),clearInterval(this.bigAddPrepareInterval),clearInterval(this.bigAddCastInterval),clearInterval(this.selfExplosionCastInterval),this.log(t),"游戏胜利！恭喜你！"!=t&&(document.getElementById("restart-btn").style.display="inline-block"),document.getElementById("skill4").style.display="none"},resetGame(){document.getElementById("game-ui").style.display="none",document.getElementById("mode-selection").style.display="block",document.getElementById("restart-btn").style.display="none"},startSelfExplosionLoop(){this.selfExplosionInterval=setInterval(()=>{this.selfExplosionCasting||this.startSelfExplosion()},15e3)},startSelfExplosion(){this.selfExplosionCasting=!0,this.log("自身爆炸读条中！"),this.selfExplosionTimer=20,this.selfExplosionCastInterval=setInterval(()=>{this.selfExplosionTimer--,document.getElementById("explosion-bar").style.width=100-5*this.selfExplosionTimer+"%",this.selfExplosionTimer<=0&&(clearInterval(this.selfExplosionCastInterval),this.selfExplosionCasting&&this.gameOver("Game Over! 队友团灭！"))},100)},startBigAddPrepare(){this.bigAddPrepareInterval=setInterval(()=>{this.nextBigAdd--,document.getElementById("big-add-prepare").innerText=this.nextBigAdd<=10?`大怪即将读条：${this.nextBigAdd}s`:"",this.nextBigAdd<=0&&(clearInterval(this.bigAddPrepareInterval),this.startBigAdd())},1e3)},startBigAdd(){this.bigAddCasting=!0,this.log("大怪爆炸读条中！"),this.bigAddTimer=20,this.bigAddCastInterval=setInterval(()=>{this.bigAddTimer--,document.getElementById("big-add-bar").style.width=100-5*this.bigAddTimer+"%",this.bigAddTimer<=0&&(clearInterval(this.bigAddCastInterval),this.bigAddCasting&&this.gameOver("Game Over! 大怪爆炸引爆！"))},100)},skill1(){this.skill1CD>0||(this.vulnStack++,this.vulnTimer=10,"advanced"===this.mode&&this.bigAddCasting?(this.log("成功打断大怪爆炸！"),this.bigAddCasting=!1,clearInterval(this.bigAddCastInterval),document.getElementById("big-add-bar").style.width="0%",document.getElementById("big-add-prepare").innerText="",this.nextBigAdd=35,this.startBigAddPrepare()):this.log("使用易伤！ 易伤已叠加至 "+10*this.vulnStack+"%"),this.skill1CD=6)},skill2(){this.skill2CD>0||(this.energy<8?this.log("能量不足无法使用技能2"):(this.energy-=8,this.selfExplosionCasting?(this.log("成功打断自身爆炸！"),this.selfExplosionCasting=!1,clearInterval(this.selfExplosionCastInterval),document.getElementById("explosion-bar").style.width="0%"):this.log("使用打断技能！"),this.skill2CD=6))},skill3(){this.health=Math.min(this.health+10,100),this.energy=Math.min(this.energy+20,100),this.log("吃水成功！")},skill4(){this.health>20?this.log("血量大于20%，无法脱离！"):this.gameOver("游戏胜利！恭喜你！")},onKeydown(t){"1"===t.key&&this.skill1(),"2"===t.key&&this.skill2(),"3"===t.key&&this.skill3(),"4"===t.key&&this.skill4()}}},r=i(1241);const h=(0,r.A)(o,[["render",a]]);var g=h;(0,l.Ef)(g).mount("#app")}},e={};function i(l){var n=e[l];if(void 0!==n)return n.exports;var s=e[l]={exports:{}};return t[l].call(s.exports,s,s.exports,i),s.exports}i.m=t,function(){var t=[];i.O=function(e,l,n,s){if(!l){var d=1/0;for(h=0;h<t.length;h++){l=t[h][0],n=t[h][1],s=t[h][2];for(var a=!0,o=0;o<l.length;o++)(!1&s||d>=s)&&Object.keys(i.O).every(function(t){return i.O[t](l[o])})?l.splice(o--,1):(a=!1,s<d&&(d=s));if(a){t.splice(h--,1);var r=n();void 0!==r&&(e=r)}}return e}s=s||0;for(var h=t.length;h>0&&t[h-1][2]>s;h--)t[h]=t[h-1];t[h]=[l,n,s]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var l in e)i.o(e,l)&&!i.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:e[l]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};i.O.j=function(e){return 0===t[e]};var e=function(e,l){var n,s,d=l[0],a=l[1],o=l[2],r=0;if(d.some(function(e){return 0!==t[e]})){for(n in a)i.o(a,n)&&(i.m[n]=a[n]);if(o)var h=o(i)}for(e&&e(l);r<d.length;r++)s=d[r],i.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return i.O(h)},l=self["webpackChunklaowuplus"]=self["webpackChunklaowuplus"]||[];l.forEach(e.bind(null,0)),l.push=e.bind(null,l.push.bind(l))}();var l=i.O(void 0,[504],function(){return i(9339)});l=i.O(l)})();
//# sourceMappingURL=app.6a4c714a.js.map